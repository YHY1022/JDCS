<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../iconfont/iconfont.css">
    <script src="../js/jquery1.11.js"></script>
    <style>
        body {
            background: #eee;
        }
        
        .wrap_pic {
            width: 1200px;
            min-height: 800px;
            margin: 0 auto;
            position: relative;
        }
        
        #pic {
            width: 400px;
            height: 400px;
            border: 1px solid #ccc;
            position: absolute;
            left: 0;
            top: 100px;
        }
        
        #pic img {
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
            display: none;
        }
        
        #big {
            display: none;
            overflow: hidden;
            width: 400px;
            height: 400px;
            border: 1px solid #ccc;
            position: absolute;
            left: 420px;
            top: 100px;
            z-index: 1;
        }
        
        #big img {
            width: 800px;
            height: 800px;
            position: absolute;
            left: 0;
            top: 0;
        }
        
        #mark {
            display: none;
            width: 200px;
            height: 200px;
            background: pink;
            opacity: .5;
            filter: alpha(opacity=50);
            position: absolute;
            left: 0;
            top: 0;
        }
        
        #sml {
            width: 500px;
            height: 60px;
            position: absolute;
            top: 505px;
        }
        
        #sml img {
            display: inline-block;
            width: 60px;
            height: 60px;
            border: 1px solid #ccc;
        }
        
        .right {
            width: 600px;
            height: 400px;
            position: absolute;
            top: 100px;
            right: 100px;
            background-color: white;
        }
        
        .right p {
            width: 200px;
            height: 50px;
            font-size: 20px;
            color: black;
            /* line-height: 50px; */
            margin-top: 50px;
            /* background-color: yellow; */
        }
        
        .right p span {
            width: 200px;
            height: 50px;
            font-size: 20px;
            color: red;
            line-height: 50px;
            text-align: center;
            /* background-color: green; */
        }
        
        .right input:nth-child(2) {
            border: solid 1px orange;
            width: 20px;
            height: 30px;
            cursor: pointer;
        }
        
        .right input:nth-child(3) {
            border: solid 1px orange;
            width: 50px;
            height: 30px;
        }
        
        .right input:nth-child(4) {
            border: solid 1px orange;
            width: 20px;
            height: 30px;
            cursor: pointer;
        }
        
        .right button {
            width: 150px;
            height: 40px;
            background: orange;
            font-size: 17px;
            line-height: 40px;
            color: #fff;
            cursor: pointer;
        }
        
        .right .tiezui {
            width: 240px;
            /* height: 100px; */
            font-size: 20px;
            /* line-height: 100px; */
            /* background-color: blue; */
        }
    </style>
</head>

<body>
    <!-- header -->
    <div class="hed-s-wrap">
        <div class="header-s">
            <ul class="fl">
                <i class="iconfont iconfangzi"></i>
                <a href="//www.jd.com">京东首页</a>
            </ul>
            <ul class="fr">
                <li><a href="html/login.html">你好,请登录</a>&nbsp;&nbsp;<a class="two" href="html/enroll.html">免费注册</a></li>
                <li class="kong"></li>
                <li><a href="">我的订单</a></li>
                <li class="kong"></li>
                <li class="wode">
                    <a href="">我的京东</a><i class="iconfont iconxiala"></i>
                    <div class="a1">
                        <ul>
                            <li><a href="">待处理订单</a></li>
                            <li><a href="">返修退货</a></li>
                            <li><a href="">降价商品</a></li>
                            <li><a href="">我的京豆</a></li>
                            <li><a href="">我的白条</a></li>
                        </ul>
                        <ul>
                            <li><a href="">消息</a></li>
                            <li><a href="">我的问答</a></li>
                            <li><a href="">我的关注</a></li>
                            <li><a href="">我的优惠券</a></li>
                            <li><a href="">我的理财</a></li>
                        </ul>
                    </div>
                </li>
                <li class="kong"></li>
                <li><a href="">京东会员</a></li>
                <li class="kong"></li>
                <li><a href="">企业采购</a></li>
                <li class="kong"></li>
                <li class="kehu">
                    <a href="">客户服务</a><i class="iconfont iconxiala"></i>
                    <div class="a2">
                        <ul>
                            <p>客户</p>
                            <li><a href="">帮助中心</a><a href="">售后服务</a></li>
                            <li><a href="">在线客服</a><a href="">意见建议</a></li>
                            <li><a href="">电话客服</a><a href="">客服邮箱</a></li>
                            <li><a href="">金融资讯</a><a href="">全球售客服</a></li>
                            <li><a href="">企业客服</a></li>
                        </ul>
                        <ul>
                            <!-- <p></p> -->
                            <li><a href="">合作招聘</a><a href="">成长中心</a></li>
                            <li><a href="">商家后台</a><a href="">京麦工作台</a></l>
                                <li><a href="">商家帮助</a><a href="">规则平台</a></li>
                        </ul>
                    </div>
                    </li>
                    <li class="kong"></li>
                    <li class="dh">
                        <a href="">网站导航</a><i class="iconfont iconxiala"></i>
                        <div class="a3">
                            <ul>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>

                            </ul>
                            <ul>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>

                            </ul>
                            <ul>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>

                            </ul>
                            <ul>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>
                                <li><a href="">新品首发</a></li>

                            </ul>
                        </div>
                    </li>
                    <li class="kong"></li>
                    <li><a href="">手机京东</a></li>
            </ul>
        </div>
    </div>
    <!-- hedaer-x -->
    <div class="hed-x-wrap">
        <div class="header-x">
            <div class="top">

                <!-- lf -->
                <div class="lf">
                    <a class="logo" href=""><img src="../images/logo.jpg" alt=""></a>
                    <div class="dw">
                        <i class="iconfont icondingwei"></i>
                        <ul class="list">
                            <li>
                                <span>河南</span>
                                <i class="iconfont iconxiala"></i>
                            </li>
                        </ul>

                    </div>
                </div>
                <!-- ct -->
                <div class="ct">
                    <div class="form">
                        <input class="ipt" type="text">
                        <button><span>搜索</span></button>
                    </div>
                    <ul class="ctul">
                        <li>
                            <a href="">满99减100</a>
                        </li>
                        <li>
                            <a href="">健康守护</a>
                        </li>
                        <li>
                            <a href="">中外美酒</a>
                        </li>
                        <li>
                            <a href="">个人护理</a>
                        </li>
                        <li>
                            <a href="">纸品家清</a>
                        </li>
                    </ul>
                </div>
                <!-- rt -->
                <div class="rt">
                    <div class="crt">
                        <a href="">我的购物车</a><i class="iconfont icongouwuche
                        "></i></div>
                    <div class="ma"><i class="iconfont iconqrcode-1-copy
                        "></i>扫码享受优惠
                        <div class="maimg">
                            <img src="../images/maimg.png" alt="">
                        </div>
                    </div>
                </div>
            </div>
            <!-- nav -->
            <div class="nav">

                <div class="nav-lt">
                    京东超市频道分类
                </div>
                <ul class="nav-ct">
                    <li><a href="">超市首页</a></li>
                    <li><a href="">超市量贩</a></li>
                    <li><a href="">京东生鲜</a></li>
                    <li><a href="">品牌特卖</a></li>
                    <li><a href="">山姆会员店</a></li>
                    <li><a href="">企业采购</a></li>
                </ul>
                <div class="nav-rt">
                    <i></i><span></span>
                    <i></i><span></span>
                </div>
            </div>
        </div>
    </div>
    <!-- 展示区 -->
    <!-- 放大镜 -->
    <div class="wrap_pic">
        <!-- <div id="pic">
            <img src="../img/fdj.jpg" alt="" style="display:block">
            <img src="../img/fdj1.jpg" alt="">
            <img src="../img/fdj2sp.jpg" alt="">
            <div id="mark"></div>
        </div>

        <div id="big">
            <img src="../img/fdj.jpg" alt="">
            <img src="../img/fdj1.jpg" alt="">
            <img src="../img/fdj2sp.jpg" alt="">
        </div>
        <div id="sml">
            <img src="../img/fdj.jpg" alt="" style="border-color:#ccc">
            <img src="../img/fdj1.jpg" alt="" style="border-color:#ccc">
            <img src="../img/fdj2sp.jpg" alt="" style="border-color:#ccc">
        </div> -->

        <!-- 放大镜部分结束 -->
        <!-- <div class="right">
            <p>抢购价￥<span>39.99</span></p>
            <input type="button" value="-">
            <input type="text">
            <input type="button" value="+">
            <a href="#"><button>加入购物车</button></a>
        </div> -->
    </div>

    <script>
        let obj = new URLSearchParams(location.search)
        let pid = obj.get('pid')
        console.log(pid);
        $.get('http://jx.xuzhixiang.top/ap/api/detail.php', {
                id: pid

            }, data => {
                // console.log(data);
                let str = "";
                str += `
            <div id="pic">
            <img src="../${data.data.pimg}" style="display:block">
            <img src="../${data.data.pimg}">
            <img src="../${data.data.pimg}" alt="">
            <div id="mark"></div>
            </div>

            <div id="big">
            <img src="../${data.data.pimg}" alt="">
            <img src="../${data.data.pimg}" alt="">
            <img src="../${data.data.pimg}" alt="">
            </div>
            <div id="sml">
            <img src="../${data.data.pimg}" alt="" style="border-color:#ccc">
            <img src="../${data.data.pimg}" alt="" style="border-color:#ccc">
            <img src="../${data.data.pimg}" alt="" style="border-color:#ccc">
            </div>
            <div class="right">
            <p>抢购价￥<span>${data.data.pprice}</span></p>
            <p class="tiezui">${data.data.pname}</p>
            <div>
            <input type="button" value="-">
            <input type="text">
            <input type="button" value="+">
            <a href="#"><button>加入购物车</button></a>
            </div>
            </div>
            `
                $(".wrap_pic").append(str);
                $("#pic").mouseenter(function() {
                    $("#mark,#big").show()
                }).mouseleave(function() {
                    $("#mark,#big").hide()
                }).mousemove(function(ev) {
                    var l = ev.pageX - $(this).offset().left - 100;
                    var t = ev.pageY - $(this).offset().top - 100;
                    if (l <= 0) {
                        l = 0;
                    }
                    if (l >= 200) {
                        l = 200
                    }
                    if (t <= 0) {
                        t = 0
                    }
                    if (t >= 200) {
                        t = 200
                    }
                    $("#mark").css({
                        left: l,
                        top: t
                    })

                    //同时放大图片
                    $("#big img").css({
                        left: -2 * l,
                        top: -2 * t
                    })
                })
                $("#sml img").mouseover(function() {
                    $(this).css({
                        "border-color": "#000"
                    }).siblings().css({
                        "border-color": "#ccc"
                    })
                    var index = $(this).index()
                    console.log(index)
                    $("#pic img").eq(index).stop().fadeIn()
                    $("#pic img").eq(index).siblings().stop().fadeOut()
                    $("#big img").eq(index).stop().fadeIn()
                    $("#big img").eq(index).siblings().stop().fadeOut()


                })
            })
            // $("#pic").mouseenter(function() {
            //     $("#mark,#big").show()
            // }).mouseleave(function() {
            //     $("#mark,#big").hide()
            // }).mousemove(function(ev) {
            //     var l = ev.pageX - $(this).offset().left - 100;
            //     var t = ev.pageY - $(this).offset().top - 100;
            //     if (l <= 0) {
            //         l = 0;
            //     }
            //     if (l >= 200) {
            //         l = 200
            //     }
            //     if (t <= 0) {
            //         t = 0
            //     }
            //     if (t >= 200) {
            //         t = 200
            //     }
            //     $("#mark").css({
            //         left: l,
            //         top: t
            //     })

        //     //同时放大图片
        //     $("#big img").css({
        //         left: -2 * l,
        //         top: -2 * t
        //     })
        // })
        // $("#sml img").mouseover(function() {
        //     $(this).css({
        //         "border-color": "#000"
        //     }).siblings().css({
        //         "border-color": "#ccc"
        //     })
        //     var index = $(this).index()
        //     console.log(index)
        //     $("#pic img").eq(index).stop().fadeIn()
        //     $("#pic img").eq(index).siblings().stop().fadeOut()
        //     $("#big img").eq(index).stop().fadeIn()
        //     $("#big img").eq(index).siblings().stop().fadeOut()
        // })
    </script>
</body>

</html>